<ion-content [fullscreen]="true">
  <div class="form-page-container">
    <!-- Encabezado de la Página -->
    <header class="page-header">
      <ion-button fill="clear" class="back-button" (click)="goToDashboard()">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
      <h1 class="page-title">Nueva Canción</h1>
    </header>

    <!-- Contenedor del Formulario -->
    <div class="form-content">
      <form [formGroup]="formAddSong" (ngSubmit)="onSubmit()">
        
        <!-- Sección de Información Principal -->
        <div class="form-section">
          <h2 class="section-title">Información General</h2>
          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Nombre de la Canción</ion-label>
            <ion-input type="text" formControlName="name" placeholder="Ej: Amazing Grace"></ion-input>
            <ion-note slot="error" *ngIf="formAddSong.get('name')?.hasError('required') && formAddSong.get('name')?.touched">
              El nombre es obligatorio
            </ion-note>
          </ion-item>
          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Etiqueta / Categoría</ion-label>
            <ion-input type="text" formControlName="label" placeholder="Ej: Himno, Adoración"></ion-input>
          </ion-item>
        </div>

        <!-- Sección de Estructura de la Canción -->
        <div class="form-section">
          <h2 class="section-title">Letra y Acordes</h2>
          
          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Introducción</ion-label>
            <ion-textarea [autoGrow]="true" rows="2" formControlName="introduction" placeholder="Acordes de introducción..."></ion-textarea>
          </ion-item>

          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Estrofa 1</ion-label>
            <ion-textarea [autoGrow]="true" rows="4" formControlName="letter1" placeholder="Letra y acordes de la primera estrofa..."></ion-textarea>
          </ion-item>

          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Interludio</ion-label>
            <ion-textarea [autoGrow]="true" rows="2" formControlName="interlude" placeholder="Acordes del interludio..."></ion-textarea>
          </ion-item>

          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Estrofa 2</ion-label>
            <ion-textarea [autoGrow]="true" rows="4" formControlName="letter2" placeholder="Letra y acordes de la segunda estrofa..."></ion-textarea>
          </ion-item>

          <ion-item class="form-field" lines="none">
            <ion-label position="stacked">Final</ion-label>
            <ion-textarea [autoGrow]="true" rows="2" formControlName="end" placeholder="Acordes finales..."></ion-textarea>
          </ion-item>
        </div>

        <!-- Acciones del Formulario -->
        <div class="form-actions">
          <ion-button class="cancel-btn" fill="outline" (click)="goToDashboard()">
            Cancelar
          </ion-button>
          <ion-button class="submit-btn" type="submit" [disabled]="formAddSong.invalid">
            <ion-icon slot="start" name="save-outline"></ion-icon>
            Guardar Canción
          </ion-button>
        </div>
      </form>
    </div>
  </div>
</ion-content>
